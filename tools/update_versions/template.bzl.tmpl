# Code generated by //tools/update_versions. DO NOT EDIT.
# Generated at: {{.GeneratedAt}}

"""Version and checksum data for golangci-lint releases."""

DEFAULT_VERSION = "{{.DefaultVersion}}"

GOLANGCI_VERSIONS = {
{{- range .Versions}}
    "{{.Tag}}": {
{{- $checksums := .ChecksumsByOS}}
{{- range $os := SortedOSKeys .ChecksumsByOS}}
        "{{$os}}": {
{{- range $arch := SortedArchKeys (index $checksums $os)}}
            "{{$arch}}": "{{index (index $checksums $os) $arch}}",
{{- end}}
        },
{{- end}}
    },
{{- end}}
}

def get_golangci_version_info(version = None):
    """Returns (version, checksums_map) for the requested version.

    Args:
        version: Version tag (e.g., "v2.6.1"). If None, uses DEFAULT_VERSION.

    Returns:
        Tuple of (version_string, checksums_dict) where checksums_dict is
        a nested dict: {os: {arch: sha256}}

    Fails:
        If the requested version is not available.
    """
    v = version if version else DEFAULT_VERSION
    if v not in GOLANGCI_VERSIONS:
        fail("Unknown golangci-lint version: {}. Available: {}".format(
            v, ", ".join(GOLANGCI_VERSIONS.keys())
        ))
    return v, GOLANGCI_VERSIONS[v]
